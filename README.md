### О репозитории:

В данном репозитории находяться проекты и учебные материалы по статистике и A/B тестам. В самх проектах показаны какие статистические критерии можно использовать в ходе проверки гипотез.

### Немного про условия по каждому проекту каждому проекту проекту:

##### Учебные:
____

- [A/A tests](https://github.com/0n1xx/AB_tests/blob/main/Studies/AA_tests/aa_studies.ipynb): 

  Задачи:
  1. Запустите A/A-тест;
  
  2. Посчитайте FPR на уровне альфа = 0.05 (ставьте подвыборки без возвращения объемом 1000). Вы увидите, что FPR > альфа! Нам нужно наоборот – чтобы было меньше;
  
  3. Найдите причины поломки сплит-системы, ориентируясь на результаты эксперимента (подсказка: найдите аномалию в версии приложения);
  
  4. Напишите выводы, которые можно сделать на основе анализа результатов A/A-теста.


- [A/B tests](https://github.com/0n1xx/AB_tests/blob/main/Studies/AB_tests/ab_studies.ipynb): в данном проекте я генерировал и проверял различные гипотезы при помощи таких статистических критериев как:Манна-Уитни, Шапиро-Уилка, а также использовал Bootstrap.

  Задачи:

  1. Проверьте, есть ли различия в размерах оттока клиентов в разных городах (churn, city);
  
  2. Есть ли разница в активности в первые 30 дней с момента регистрации между водителями из разных городов? (city, trips_in_first_30_days);
  
  3. Может ли отток быть связан с активностью в первые 30 дней после регистрации? (churn, trips_in_first_30_days)
  Перед проведением тестов проверьте распределения переменных, а также удовлетворяются ли параметрические условия.


- [Bootstrap](https://github.com/0n1xx/AB_tests/blob/main/Studies/Intro_boostrap/bootstrap_studies.ipynb):

  Задачи:
  1. Сравните результат между тестом и контролем по двум кейсам:
    Примените бутстрап (с np.mean) и критерий mann-whitney, а потом сравните p-value
    Примените бутстрап (с np.median) и критерий mann-whitney, а потом сравните p-value.
    
  2. Напишите выводы, которые можно сделать на основе анализа примененных критериев


#### Проекты:
____

- [A/B тест в игровом приложении](https://github.com/0n1xx/AB_tests/blob/main/Projects/AB_test_game_app/retention_ab_test.ipynb):

  Представьте, что вы работаете в компании, которая разрабатывает мобильные игры. К вам пришел менеджер с рядом задач по исследованию нескольких аспектов мобильного приложения:

  1. В первую очередь, его интересует показатель retention. Напишите функцию для его подсчета;
  
  2. Помимо этого, в компании провели A/B тестирование наборов акционных предложений. На основе имеющихся данных определите, какой набор можно считать лучшим и на основе каких метрик стоит принять правильное решение;
  
  3. Предложите метрики для оценки результатов последнего прошедшего тематического события в игре.


- [A/B тест в дейтинговом приложении](https://github.com/0n1xx/AB_tests/blob/main/Projects/AB_test_dating_app/ab_test.ipynb):

  Представьте, что вы работаете в крупном дейтинговом приложении.

  Помимо базовых функций, в приложении также имеется премиум-подписка, которая дает доступ к ряду важных дополнительных возможностей. Был проведен A/B тест, в рамках которого для новых пользователей из нескольких стран была изменена стоимость премиум-подписки* при покупке через две новые платежные системы. При этом стоимость пробного периода оставалась прежней.

  Проверьте:

  1. Был ли эксперимент успешен в целом;
  
  2. Проанализируйте, имеет ли нововведение смысл среди каких-либо конкретных групп пользователей.


- [A/B тест в приложение для обработки и оформления фотографий в формате Stories](https://github.com/0n1xx/AB_tests/blob/main/Projects/AB_test_photo_app/ab_test.ipynb):

  Был проведен A/B тест: тестовой группе предлагалась новая модель оплаты коллекций шаблонов, контрольной – старая механика. Ваша основная задача: 

  1. Проанализировать итоги эксперимента и решить, нужно ли выкатывать новую модель на остальных пользователей;

  2. В ходе отчета обоснуйте выбор метрик, на которые вы обращаете внимание. Если различия есть, то объясните, с чем они могут быть связаны и являются ли значимыми.

- [A/B тест в маркетплейсе](https://github.com/0n1xx/AB_tests/blob/main/Projects/AB_test_marketplace/ab_marketplace.ipynb)

  1 - Исследовательский анализ данных:
  
  Предлагается в свободном формате исследовать данные.
  - Описать их;
  - Найти неожиданные выводы;
  - Заложить гипотезы для улучшения продукта.

  2 - Основные метрики:
  
  - Работа продуктового аналитика непосредственно связана с метриками.Выпиши основные метрики, за которыми важно следить в маркетплейсе. Посчитай те, которые можно вычислить из текущего набора данных. Изучи эти метрики и предложи способы их роста.

  3 - Искусственный эксперимент:
  
  Предположим, что city_id - не идентификатор города, а идентификатор группы, где одна из них контрольная, а другая экспериментальная.

  - Какая из групп ведет себя лучше, согласно метрикам из прошлого пункта? Как это измерить?
  
 
 - [A/B тест в социальной сети](https://github.com/0n1xx/AB_tests/blob/main/Projects/AB_social_network/code.ipynb)
  
    1. A/A тест:
  
        -  Построить гистограмму распределения получившихся 10000 p-values;

        - Посчитать, какой процент p values оказался меньше либо равен 0.05;

        - Написать вывод по проведенному АА-тесту, корректно ли работает наша система сплитования;

        - Пришлите ссылку на merge request c проведенным анализом.

    
    2. A/B тест: 
    
        Пришло время проанализировать результаты эксперимента, который мы провели вместе с командой дата сайентистов. Эксперимент проходил с 2022-06-13 по 2022-06-19 включительно. Для эксперимента были задействованы 2 и 1 группы. В группе 2 был использован один из новых алгоритмов рекомендации постов, группа 1 использовалась в качестве контроля. Основная гипотеза заключается в том, что новый алгоритм во 2-й группе приведет к увеличению CTR. 
        Ваша задача — проанализировать данные АB-теста:
        - Выбрать метод анализа и сравнить CTR в двух группах (мы разбирали t-тест, Пуассоновский бутстреп, тест Манна-Уитни, t-тест на сглаженном ctr (α=5) а также t-тест и тест Манна-Уитни поверх бакетного преобразования);
        - Сравните данные этими тестами. А еще посмотрите на распределения глазами. Почему тесты сработали так как сработали? 
        - Опишите потенциальную ситуацию, когда такое изменение могло произойти. Тут нет идеального ответа, подумайте.
        - Напишите рекомендацию, будем ли мы раскатывать новый алгоритм на всех новых пользователей или все-таки не стоит.
        Ваше решение — это ссылка на merge request с проведенным анализом.
   
   3. A/B тест:
  
      Разобранными на лекции методами список того, что можно применять к метрикам-отношениям, не ограничивается. Есть огромное количество полезных [материалов](https://vkteam.medium.com/practitioners-guide-to-statistical-tests-ed2d580ef04f#d2d3) на эту темы. Начнем с материалов Никиты Маршалкина. К слову, вот его [интервью](https://www.youtube.com/watch?v=gljfGAkgX_o&t=19s), там тоже много интересного.

      Относительно недавно (в 2018-м году) исследователи из Яндекса разработали классный метод анализа тестов над метриками-отношениями
      (прямо как у нас) вида likes/clicks.

      Идея метода заключается в следующем:

      Вместо того, чтобы заталкивать в тест «поюзерные» CTR, можно сконструировать другую метрику и анализировать ее, но при этом гарантируется (в отличие от сглаженного CTR), что если тест на этой другой метрике «прокрасится» и увидит изменения, значит изменения есть и в метрике исходной (то есть в лайках на пользователя и в пользовательских CTR

      При этом метод сам по себе очень прост. Что это за метрика такая?

      1. Считаем общий CTR в контрольной группе: CTRcontrol=sum(likes)/sum(views);
      2. Посчитаем в обеих группах поюзерную метрику: linearized_like=likes - CTRcontrol * views;
      3. После чего сравним  t-тестом отличия в группах по метрике linearized_like.

      Метод простой, гарантируется, что при приличном размере выборки (как у нас — подойдет) можно бесплатно увеличить чувствительность вашей метрики (или, по крайней мере, не сделать хуже). Как по мне, это ОЧЕНЬ круто.

      Задача

      - Проанализируйте тест между группами 0 и 3 по метрике линеаризованных лайков. Видно ли отличие? Стало ли p-value меньше?
      - Проанализируйте тест между группами 1 и 2 по метрике линеаризованных лайков. Видно ли отличие? Стало ли p-value меньше?
